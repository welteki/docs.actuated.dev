
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Realise the potential of blazingly fast builds.">
      
      
        <meta name="author" content="OpenFaaS Ltd">
      
      
        <link rel="canonical" href="https://docs.actuated.dev/install-agent/">
      
      
        <link rel="prev" href="../provision-server/">
      
      
        <link rel="next" href="../test-build/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Install the Agent - Actuated</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto,+Helvetica:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto, Helvetica";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-PTK21TFJ7V"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-PTK21TFJ7V",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-PTK21TFJ7V",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#add-your-first-agent-to-actuated" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Actuated" class="md-header__button md-logo" aria-label="Actuated" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Actuated
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install the Agent
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/self-actuated" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    self-actuated/actuated
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Actuated" class="md-nav__button md-logo" aria-label="Actuated" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    Actuated
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/self-actuated" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    self-actuated/actuated
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" tabindex="0" aria-expanded="false">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        Contact us
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="true">
          Onboarding
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Onboarding" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Onboarding
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../register/" class="md-nav__link">
        Register your GitHub Organisation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../provision-server/" class="md-nav__link">
        Provision a Server
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Install the Agent
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Install the Agent
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pick-your-actuated-servers" class="md-nav__link">
    Pick your Actuated Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-the-end-user-license-agreement-eula" class="md-nav__link">
    Review the End User License Agreement (EULA)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-actuated-agent" class="md-nav__link">
    Install the Actuated Agent
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
    <nav class="md-nav" aria-label="Next steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#other-considerations" class="md-nav__link">
    Other considerations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../test-build/" class="md-nav__link">
        Run a test build
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="false">
          Tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tasks" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/registry-mirror/" class="md-nav__link">
        Setup a Registry Mirror
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/debug-ssh/" class="md-nav__link">
        Debug a job with SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/cli/" class="md-nav__link">
        Set-up the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/local-github-cache/" class="md-nav__link">
        Setup self-hosted cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/system-info/" class="md-nav__link">
        System Info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/matrix/" class="md-nav__link">
        Job Matrix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/kernel/" class="md-nav__link">
        Compile a Kernel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/k3s/" class="md-nav__link">
        Kubernetes with K3s
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/kind/" class="md-nav__link">
        Kubernetes with KinD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/matrix-k8s/" class="md-nav__link">
        Kubernetes regression matrix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/docker/" class="md-nav__link">
        Docker run/build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/openfaas-publish/" class="md-nav__link">
        Publish an OpenFaaS function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/openfaas-helm/" class="md-nav__link">
        Deploy a Helm chart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/custom-vm-size/" class="md-nav__link">
        Custom VM sizes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/github-actions-cache/" class="md-nav__link">
        Using caching in builds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Advanced examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Advanced examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/kvm-guest/" class="md-nav__link">
        Run a KVM guest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/multiarch-buildx/" class="md-nav__link">
        Multi-arch images with buildx
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pick-your-actuated-servers" class="md-nav__link">
    Pick your Actuated Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-the-end-user-license-agreement-eula" class="md-nav__link">
    Review the End User License Agreement (EULA)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-actuated-agent" class="md-nav__link">
    Install the Actuated Agent
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
    <nav class="md-nav" aria-label="Next steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#other-considerations" class="md-nav__link">
    Other considerations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="add-your-first-agent-to-actuated">Add your first agent to actuated<a class="headerlink" href="#add-your-first-agent-to-actuated" title="Permanent link">&para;</a></h1>
<p>actuated is split into three parts:</p>
<ol>
<li>An Actuated Agent (agent) that you run on your own machines or VMs (server), which can launch a VM with a single-use GitHub Actions runner.</li>
<li>A VM image launched by the agent, with all the preinstalled software found on a hosted GitHub Actions runner.</li>
<li>Our own control plane that talks to GitHub on your behalf, and schedules builds across your fleet of agents.</li>
</ol>
<p>All we need you to do is to install our agent on one or more servers, then we take care of the rest. We'll even be able to tell you if your server goes offline for any reason.</p>
<div class="admonition info">
<p class="admonition-title">Have you registered your organisation yet?</p>
<p>Before you can add an agent, you or your GitHub organisation admin will need to install the: <a href="https://docs.actuated.dev/register/#install-the-github-app">Actuated GitHub App</a>.</p>
</div>
<h3 id="pick-your-actuated-servers">Pick your Actuated Servers<a class="headerlink" href="#pick-your-actuated-servers" title="Permanent link">&para;</a></h3>
<p>Pick your Actuated Servers carefully using our guide: <a href="/provision-server">Pick a host for actuated</a></p>
<h2 id="review-the-end-user-license-agreement-eula">Review the End User License Agreement (EULA)<a class="headerlink" href="#review-the-end-user-license-agreement-eula" title="Permanent link">&para;</a></h2>
<p>Make sure you've read the <a href="https://github.com/self-actuated/actuated/blob/master/EULA.md">Actuated EULA</a> before registering your organisation with the actuated GitHub App, or starting the agent binary on one of your hosts.</p>
<p>If you missed it in the "Provision a Server" page, we recommend you use Ubuntu 22.04 as the host operating system on your Server.</p>
<h2 id="install-the-actuated-agent">Install the Actuated Agent<a class="headerlink" href="#install-the-actuated-agent" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Install your license for actuated</p>
<p>The license is available in the email you received when you purchased your subscription. If someone else bought the subscription, they should be able to forward it to you.</p>
<p>Run the following, then paste in your license, hit enter once, then Control + D to save the file.</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.actuated
cat<span class="w"> </span>&gt;<span class="w"> </span>~/.actuated/LICENSE
</code></pre></div>
</li>
<li>
<p>Download the Actuated Agent and installation script to the server</p>
<blockquote>
<p>Setting up an ARM64 agent? Wherever you see <code>agent</code> in a command, change it to: <code>agent-arm64</code>. So instead of <code>agent keygen</code> you'd run <code>agent-arm64 keygen</code>.</p>
</blockquote>
<p>Install <a href="https://github.com/alexellis/arkade">arkade</a> using the command below, or download it from the <a href="https://github.com/alexellis/arkade/releases">releases page</a>.</p>
<p>Download the latest agent and install the binary to <code>/usr/local/bin/</code>:</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>
<span class="c1"># Install arkade</span>
curl<span class="w"> </span>-sLS<span class="w"> </span>https://get.arkade.dev<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>sh

<span class="c1"># Use arkade to extract the agent from its OCI container image</span>
arkade<span class="w"> </span>oci<span class="w"> </span>install<span class="w"> </span>ghcr.io/openfaasltd/actuated-agent:latest<span class="w"> </span>--path<span class="w"> </span>./agent
chmod<span class="w"> </span>+x<span class="w"> </span>./agent/agent*
sudo<span class="w"> </span>mv<span class="w"> </span>./agent/agent*<span class="w"> </span>/usr/local/bin/
<span class="o">)</span>
</code></pre></div>
<p>Run the setup.sh script which will install all the required dependencies like containerd, CNI and Firecracker.</p>
<p><strong>For best performance</strong>, a dedicated drive, volume or partition is required to store the filesystems for running VMs. If you do not have a volume or extra drive attached, then you can shrink the root partition, and use the resulting free space.</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>
<span class="nb">cd</span><span class="w"> </span>agent
<span class="nv">VM_DEV</span><span class="o">=</span>/dev/nvme0n2<span class="w"> </span>sudo<span class="w"> </span>-E<span class="w"> </span>./install.sh
<span class="o">)</span>
</code></pre></div>
<p>If you do not have additional storage available at this time, the installer will generate a loopback filesystem for you.</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>
<span class="nb">cd</span><span class="w"> </span>agent
sudo<span class="w"> </span>./install.sh
<span class="o">)</span>
</code></pre></div>
</li>
<li>
<p>Generate your enrollment file</p>
<p>You'll need to create a DNS A or CNAME record for each server you add to actuated, this could be something like <code>server1.example.com</code> for instance.</p>
<p>Run the following to create an enrollment file at <code>$HOME/.actuated/agent.yaml</code>:</p>
<blockquote>
<p>For an Arm server run <code>agent-arm64</code> instead of <code>agent</code></p>
</blockquote>
<div class="highlight"><pre><span></span><code>agent<span class="w"> </span>enroll<span class="w"> </span>--url<span class="w"> </span>https://server1.example.com
</code></pre></div>
<p>The enrollment file contains:</p>
<ul>
<li>The hostname of the server</li>
<li>The public key of the agent which we use to encrypt tokens sent to the agent to bootstrap runners to GitHub Actions</li>
<li>A unique API token encrypted with our public key, which is used by the control plane to authenticate each message sent to the agent</li>
</ul>
</li>
<li>
<p>Configure and start the agent</p>
<p>Use the <code>install-service</code> command to configure and install a systemd service to start the actuated agent.</p>
<p>The actuated control plane will only communicate with agents exposed over HTTPS to ensure proper encryption is in place. An API token is used in addition with the TLS connection for all requests.</p>
<p>Any bootstrap tokens sent to the agent are further encrypted with the agent's public key.</p>
<p>For hosts with public IPs, you will need to use the built-in TLS provisioning with Let's Encrypt. For hosts behind a firewall, NAT or in a private datacenter, you can use inlets to create a secure tunnel to the agent.</p>
<p>We're considering other models for after the pilot, for instance GitHub's own API has the runner make an outbound connection and uses long-polling.</p>
<p>These steps are for hosts with public IP addresses, if you want to <a href="/expose-agent/">use inlets</a>, jump to the end of this step.</p>
<p>The easiest way to configure everything is to run as root. The --user flag can be used to run under a custom user account, however sudo access is still required for actuated.</p>
<p>For an <em>x86_64</em> server, run:</p>
<div class="highlight"><pre><span></span><code><span class="nv">DOMAIN</span><span class="o">=</span>agent1.example.com

sudo<span class="w"> </span>-E<span class="w"> </span>agent<span class="w"> </span>install-service<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--letsencrypt-domain<span class="w"> </span><span class="nv">$DOMAIN</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--letsencrypt-email<span class="w"> </span>webmaster@<span class="nv">$DOMAIN</span>
</code></pre></div>
<p>For an <em>Arm</em> server, run: </p>
<div class="highlight"><pre><span></span><code><span class="nv">DOMAIN</span><span class="o">=</span>agent1.example.com

sudo<span class="w"> </span>-E<span class="w"> </span>agent-arm64<span class="w"> </span>install-service<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--letsencrypt-domain<span class="w"> </span><span class="nv">$DOMAIN</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--letsencrypt-email<span class="w"> </span>webmaster@<span class="nv">$DOMAIN</span>
</code></pre></div>
<blockquote>
<p>Note the different binary name: <code>agent-arm64</code></p>
</blockquote>
<p>If you need to make changes you can run the command again, or edit <code>/etc/default/actuated</code>.</p>
<p>Check the service's status with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>actuated
sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>actuated<span class="w"> </span>--since<span class="w"> </span>today<span class="w"> </span>-f
</code></pre></div>
<p>For an Actuated Agent behind an <a href="https://inlets.dev">inlets tunnel</a>, do not include the <code>--letsencrypt-*</code> flags, and instead add <code>--listen-addr "127.0.0.1:"</code>. See <a href="/expose-agent/">expose the agent with HTTPS</a> for instructions on how the setup inlets.</p>
<p>For example (with inlets):</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>-E<span class="w"> </span>agent<span class="w"> </span>install-service<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--listen-addr<span class="w"> </span><span class="s2">&quot;127.0.0.1:&quot;</span>
</code></pre></div>
</li>
<li>
<p>Check that the control-plane is accessible</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-i<span class="w"> </span>https://server1.example.com
</code></pre></div>
<p>A correct response is a <em>403</em>.</p>
</li>
<li>
<p>Send us your agent's connection info</p>
<p>Share the <code>$HOME/.actuated/agent.yaml</code> file with us so we can add your agent to the actuated control plane.</p>
<p>We'll let you know once we've added your agent to actuated and then it's over to you to start running your builds.</p>
<p>Once you've run our test build, you need to run the steps for systemd mentioned above.</p>
</li>
</ol>
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>You can now start your first build and see it run on your actuated agent.</p>
<p><a href="/test-build">Start a build on your agent</a></p>
<div class="highlight"><pre><span></span><code><span class="w">name: ci</span>

<span class="w">on: push</span>

<span class="w">jobs:</span>
<span class="w"> </span> build-golang:
<span class="gd">-    runs-on: ubuntu-latest</span>
<span class="gi">+    runs-on: actuated-4cpu-16gb</span>
</code></pre></div>
<p>The amount of RAM and CPU can be picked independently.</p>
<p>For Arm servers change the prefix from <code>actuated-</code> to <code>actuated-arm64</code>:</p>
<div class="highlight"><pre><span></span><code><span class="w">name: ci</span>

<span class="w">on: push</span>

<span class="w">jobs:</span>
<span class="w"> </span> build-golang:
<span class="gd">-    runs-on: ubuntu-latest</span>
<span class="gi">+    runs-on: actuated-arm64-8cpu-32gb</span>
</code></pre></div>
<p>You can also customise the VM size for each job:</p>
<div class="highlight"><pre><span></span><code><span class="w">name: ci</span>

<span class="w">on: push</span>

<span class="w">jobs:</span>
<span class="w"> </span> build-golang:
<span class="gd">-    runs-on: actuated</span>
<span class="gi">+    runs-on: actuated-4cpu-8gb</span>
</code></pre></div>
<blockquote>
<p>In a future version of actuated, you'll be able to specify <code>actuated-any</code> if you don't mind whether the job runs on one of your amd64 or arm64 servers.</p>
</blockquote>
<h3 id="other-considerations">Other considerations<a class="headerlink" href="#other-considerations" title="Permanent link">&para;</a></h3>
<p>If you'd like to install a firewall, <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04">ufw</a> should be relatively quick to configure.</p>
<p>You will need the following ports open:</p>
<ul>
<li><code>443</code> - the encrypted control plane for actuated</li>
<li><code>80</code> - used with Let's Encrypt to obtain a TLS certificate during the HTTP01 challenge</li>
<li><code>22</code> - we recommend leaving port 22 open so that you can log into the machine with SSH, if needed. You could also change this to a high or random port</li>
</ul>
<p>We do not recommend restricting outgoing traffic on the server as this will probably cause you issues with your builds.</p>
<p>See also: <a href="/troubleshooting">Troubleshooting your agent</a></p>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 OpenFaaS Ltd

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "navigation.sections", "navigation.expand"], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>